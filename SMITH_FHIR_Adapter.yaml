id: SMITH_FHIR_Adapter
base: http://localhost:8080/baseR4/
valueSeparator: ','
parameterSeparator: '&'
operators:
    eq: '='
    gt: '=gt'
    ge: '=ge'
    lt: '=lt'
    le: '=le'
globalParameters:
    onlyId: _elements=id
    onlyCount: _summary=count
    onlySubject: _elements=subject
    limit: _count={limit}
    id: _id={id}
    subject: subject={subject}
patientQuery: 
    allQuery: Patient
    parameterQueryBase: Patient?
    parameters:       
      gender: gender={gender}
      birthdate: birthdate{operator}{birthdate}       
    output:
      id: Patient.id
      gender: Patient.gender
      birthdate: Patient.birthdate
propertyQueries:
    - type: SingleObservation
      allQuery: Observation
      parameterQueryBase: Observation?
      parameters:
        code: code={code}
        valueQuantity: value-quantity{operator}{value}
        valueConcept: value-concept={value}
        date: date{operator}{date}
        sortInc: _sort=date
        sortDec: _sort=-date        
      output:
        id: Observation.id
        code: Observation.code
        value: Observation.value
    - type: CompositeObservation
      allQuery: Observation
      parameterQueryBase: Observation?
      parameters:
        code: component-code={code}
        date: date{operator}{date}
        sortInc: _sort=date
        sortDec: _sort=-date
      output:
        id: Observation.id
        code: Observation.component.code
        value: Observation.component.value