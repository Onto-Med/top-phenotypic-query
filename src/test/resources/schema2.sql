CREATE TABLE subject (
    subject_id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    birth_date timestamp with time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    sex        text   NOT NULL,
    PRIMARY KEY (subject_id)
);

CREATE TABLE assessment1 (
    assessment_id bigint                   NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    subject_id    bigint                   NOT NULL REFERENCES subject,
    created_at    timestamp with time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    height        numeric,
    weight        numeric,
    PRIMARY KEY (assessment_id)
);

INSERT INTO subject VALUES
    (1, '1971-01-01', 'female'),
    (2, '1972-01-01', 'male'),
    (3, '1991-01-01', 'female'),
    (4, '1992-01-01', 'male');

INSERT INTO assessment1 (subject_id, created_at, height, weight) VALUES
    (1, '2000-05-20T12:43:00', 170, 70),
    (2, '2000-12-01T06:35:00', 205, 90),
    (3, '2000-01-01T01:00:00', NULL, 75),
    (4, '2000-01-01T01:00:00', 180, 80);
